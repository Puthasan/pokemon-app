"use strict";var me=Object.create;var _=Object.defineProperty;var xe=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,he=Object.prototype.hasOwnProperty;var Be=(e,n)=>{for(var s in n)_(e,s,{get:n[s],enumerable:!0})},V=(e,n,s,Q)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of Se(n))!he.call(e,p)&&p!==s&&_(e,p,{get:()=>n[p],enumerable:!(Q=xe(n,p))||Q.enumerable});return e},v=(e,n,s)=>(V(e,n,"default"),s&&V(s,n,"default")),ke=(e,n,s)=>(s=e!=null?me(Ae(e)):{},V(n||!e||!e.__esModule?_(s,"default",{value:e,enumerable:!0}):s,e)),be=e=>V(_({},"__esModule",{value:!0}),e);var O={};Be(O,{ApiProvider:()=>De,createApi:()=>Ue,reactHooksModule:()=>se,reactHooksModuleName:()=>ie});module.exports=be(O);var Y=require("@reduxjs/toolkit/query");var $e=require("@reduxjs/toolkit");var ye=require("@reduxjs/toolkit"),ze=require("@reduxjs/toolkit"),t=require("react"),w=require("@reduxjs/toolkit/query"),G=require("react-redux");var H=require("react");function ne(e,n,s,Q){let p=(0,H.useMemo)(()=>({queryArgs:e,serialized:typeof e=="object"?n({queryArgs:e,endpointDefinition:s,endpointName:Q}):e}),[e,n,s,Q]),x=(0,H.useRef)(p);return(0,H.useEffect)(()=>{x.current.serialized!==p.serialized&&(x.current=p)},[p]),x.current.serialized===p.serialized?x.current.queryArgs:e}var j=Symbol();var W=require("react"),re=require("react-redux");function $(e){let n=(0,W.useRef)(e);return(0,W.useEffect)(()=>{(0,re.shallowEqual)(n.current,e)||(n.current=e)},[e]),(0,re.shallowEqual)(n.current,e)?n.current:e}var u=require("@reduxjs/toolkit");var ae=WeakMap?new WeakMap:void 0,ue=({endpointName:e,queryArgs:n})=>{let s="",Q=ae?.get(n);if(typeof Q=="string")s=Q;else{let p=JSON.stringify(n,(x,h)=>(0,u.isPlainObject)(h)?Object.keys(h).sort().reduce((k,b)=>(k[b]=h[b],k),{}):h);(0,u.isPlainObject)(n)&&ae?.set(n,p),s=p}return`${e}(${s})`};var Ee=typeof window<"u"&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,Me=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:w.QueryStatus.pending}:e;function pe({api:e,moduleOptions:{batch:n,hooks:{useDispatch:s,useSelector:Q,useStore:p},unstable__sideEffectsInRender:x,createSelector:h},serializeQueryArgs:k,context:b}){let N=x?r=>r():t.useEffect;return{buildQueryHooks:U,buildMutationHook:I,usePrefetch:ee};function X(r,T,c){if(T?.endpointName&&r.isUninitialized){let{endpointName:y}=T,D=b.endpointDefinitions[y];k({queryArgs:T.originalArgs,endpointDefinition:D,endpointName:y})===k({queryArgs:c,endpointDefinition:D,endpointName:y})&&(T=void 0)}let R=r.isSuccess?r.data:T?.data;R===void 0&&(R=r.data);let a=R!==void 0,o=r.isLoading,i=!a&&o,d=r.isSuccess||o&&a;return{...r,data:R,currentData:r.data,isFetching:o,isLoading:i,isSuccess:d}}function ee(r,T){let c=s(),R=$(T);return(0,t.useCallback)((a,o)=>c(e.util.prefetch(r,a,{...R,...o})),[r,c,R])}function U(r){let T=(a,{refetchOnReconnect:o,refetchOnFocus:i,refetchOnMountOrArgChange:d,skip:y=!1,pollingInterval:D=0,skipPollingIfUnfocused:f=!1}={})=>{let{initiate:E}=e.endpoints[r],l=s(),g=(0,t.useRef)();if(!g.current){let M=l(e.internalActions.internal_getRTKQSubscriptions());g.current=M}let A=ne(y?w.skipToken:a,ue,b.endpointDefinitions[r],r),m=$({refetchOnReconnect:o,refetchOnFocus:i,pollingInterval:D,skipPollingIfUnfocused:f}),B=(0,t.useRef)(!1),S=(0,t.useRef)(),{queryCacheKey:F,requestId:C}=S.current||{},z=!1;F&&C&&(z=g.current.isRequestSubscribed(F,C));let L=!z&&B.current;return N(()=>{B.current=z}),N(()=>{L&&(S.current=void 0)},[L]),N(()=>{let M=S.current;if(typeof process<"u",A===w.skipToken){M?.unsubscribe(),S.current=void 0;return}let te=S.current?.subscriptionOptions;if(!M||M.arg!==A){M?.unsubscribe();let K=l(E(A,{subscriptionOptions:m,forceRefetch:d}));S.current=K}else m!==te&&M.updateSubscriptionOptions(m)},[l,E,d,A,m,L]),(0,t.useEffect)(()=>()=>{S.current?.unsubscribe(),S.current=void 0},[]),(0,t.useMemo)(()=>({refetch:()=>{if(!S.current)throw new Error((0,ye.formatProdErrorMessage)(38));return S.current?.refetch()}}),[])},c=({refetchOnReconnect:a,refetchOnFocus:o,pollingInterval:i=0,skipPollingIfUnfocused:d=!1}={})=>{let{initiate:y}=e.endpoints[r],D=s(),[f,E]=(0,t.useState)(j),l=(0,t.useRef)(),g=$({refetchOnReconnect:a,refetchOnFocus:o,pollingInterval:i,skipPollingIfUnfocused:d});N(()=>{let B=l.current?.subscriptionOptions;g!==B&&l.current?.updateSubscriptionOptions(g)},[g]);let A=(0,t.useRef)(g);N(()=>{A.current=g},[g]);let m=(0,t.useCallback)(function(B,S=!1){let F;return n(()=>{l.current?.unsubscribe(),l.current=F=D(y(B,{subscriptionOptions:A.current,forceRefetch:!S})),E(B)}),F},[D,y]);return(0,t.useEffect)(()=>()=>{l?.current?.unsubscribe()},[]),(0,t.useEffect)(()=>{f!==j&&!l.current&&m(f,!0)},[f,m]),(0,t.useMemo)(()=>[m,f],[m,f])},R=(a,{skip:o=!1,selectFromResult:i}={})=>{let{select:d}=e.endpoints[r],y=ne(o?w.skipToken:a,k,b.endpointDefinitions[r],r),D=(0,t.useRef)(),f=(0,t.useMemo)(()=>h([d(y),(m,B)=>B,m=>y],X,{memoizeOptions:{resultEqualityCheck:G.shallowEqual}}),[d,y]),E=(0,t.useMemo)(()=>i?h([f],i,{devModeChecks:{identityFunctionCheck:"never"}}):f,[f,i]),l=Q(m=>E(m,D.current),G.shallowEqual),g=p(),A=f(g.getState(),D.current);return Ee(()=>{D.current=A},[A]),l};return{useQueryState:R,useQuerySubscription:T,useLazyQuerySubscription:c,useLazyQuery(a){let[o,i]=c(a),d=R(i,{...a,skip:i===j}),y=(0,t.useMemo)(()=>({lastArg:i}),[i]);return(0,t.useMemo)(()=>[o,d,y],[o,d,y])},useQuery(a,o){let i=T(a,o),d=R(a,{selectFromResult:a===w.skipToken||o?.skip?void 0:Me,...o}),{data:y,status:D,isLoading:f,isSuccess:E,isError:l,error:g}=d;return(0,t.useDebugValue)({data:y,status:D,isLoading:f,isSuccess:E,isError:l,error:g}),(0,t.useMemo)(()=>({...d,...i}),[d,i])}}}function I(r){return({selectFromResult:T,fixedCacheKey:c}={})=>{let{select:R,initiate:a}=e.endpoints[r],o=s(),[i,d]=(0,t.useState)();(0,t.useEffect)(()=>()=>{i?.arg.fixedCacheKey||i?.reset()},[i]);let y=(0,t.useCallback)(function(te){let K=o(a(te,{fixedCacheKey:c}));return d(K),K},[o,a,c]),{requestId:D}=i||{},f=(0,t.useMemo)(()=>R({fixedCacheKey:c,requestId:i?.requestId}),[c,i,R]),E=(0,t.useMemo)(()=>T?h([f],T):f,[T,f]),l=Q(E,G.shallowEqual),g=c==null?i?.arg.originalArgs:void 0,A=(0,t.useCallback)(()=>{n(()=>{i&&d(void 0),c&&o(e.internalActions.removeMutationResult({requestId:D,fixedCacheKey:c}))})},[o,c,i,D]),{endpointName:m,data:B,status:S,isLoading:F,isSuccess:C,isError:z,error:L}=l;(0,t.useDebugValue)({endpointName:m,data:B,status:S,isLoading:F,isSuccess:C,isError:z,error:L});let M=(0,t.useMemo)(()=>({...l,originalArgs:g,reset:A}),[l,g,A]);return(0,t.useMemo)(()=>[y,M],[y,M])}}}function de(e){return e.type==="query"}function ce(e){return e.type==="mutation"}function Z(e){return e.replace(e[0],e[0].toUpperCase())}function q(e,...n){return Object.assign(e,...n)}var P=require("react-redux");var fe=require("reselect"),ie=Symbol(),se=({batch:e=P.batch,hooks:n={useDispatch:P.useDispatch,useSelector:P.useSelector,useStore:P.useStore},createSelector:s=fe.createSelector,unstable__sideEffectsInRender:Q=!1,...p}={})=>({name:ie,init(x,{serializeQueryArgs:h},k){let b=x,{buildQueryHooks:N,buildMutationHook:X,usePrefetch:ee}=pe({api:x,moduleOptions:{batch:e,hooks:n,unstable__sideEffectsInRender:Q,createSelector:s},serializeQueryArgs:h,context:k});return q(b,{usePrefetch:ee}),q(k,{batch:e}),{injectEndpoint(U,I){if(de(I)){let{useQuery:r,useLazyQuery:T,useLazyQuerySubscription:c,useQueryState:R,useQuerySubscription:a}=N(U);q(b.endpoints[U],{useQuery:r,useLazyQuery:T,useLazyQuerySubscription:c,useQueryState:R,useQuerySubscription:a}),x[`use${Z(U)}Query`]=r,x[`useLazy${Z(U)}Query`]=T}else if(ce(I)){let r=X(U);q(b.endpoints[U],{useMutation:r}),x[`use${Z(U)}Mutation`]=r}}}}});v(O,require("@reduxjs/toolkit/query"),module.exports);var le=require("@reduxjs/toolkit"),Qe=require("@reduxjs/toolkit"),Te=require("react"),ge=require("react"),oe=ke(require("react")),J=require("react-redux"),Re=require("@reduxjs/toolkit/query");function De(e){let n=e.context||J.ReactReduxContext;if((0,Te.useContext)(n))throw new Error((0,le.formatProdErrorMessage)(35));let[Q]=oe.default.useState(()=>(0,Qe.configureStore)({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:p=>p().concat(e.api.middleware)}));return(0,ge.useEffect)(()=>e.setupListeners===!1?void 0:(0,Re.setupListeners)(Q.dispatch,e.setupListeners),[e.setupListeners,Q.dispatch]),oe.default.createElement(J.Provider,{store:Q,context:n},e.children)}var Ue=(0,Y.buildCreateApi)((0,Y.coreModule)(),se());
//# sourceMappingURL=rtk-query-react.production.min.cjs.map