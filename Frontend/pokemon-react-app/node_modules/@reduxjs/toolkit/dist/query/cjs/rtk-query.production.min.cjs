"use strict";var ce=Object.defineProperty;var rt=Object.getOwnPropertyDescriptor;var it=Object.getOwnPropertyNames;var ot=Object.prototype.hasOwnProperty;var at=(e,n)=>{for(var p in n)ce(e,p,{get:n[p],enumerable:!0})},st=(e,n,p,g)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of it(n))!ot.call(e,c)&&c!==p&&ce(e,c,{get:()=>n[c],enumerable:!(g=rt(n,c))||g.enumerable});return e};var ut=e=>st(ce({},"__esModule",{value:!0}),e);var Qt={};at(Qt,{QueryStatus:()=>ie,buildCreateApi:()=>de,copyWithStructuralSharing:()=>G,coreModule:()=>pe,coreModuleName:()=>re,createApi:()=>nt,defaultSerializeQueryArgs:()=>ne,fakeBaseQuery:()=>_e,fetchBaseQuery:()=>be,retry:()=>Me,setupListeners:()=>ke,skipToken:()=>te});module.exports=ut(Qt);var ie=(c=>(c.uninitialized="uninitialized",c.pending="pending",c.fulfilled="fulfilled",c.rejected="rejected",c))(ie||{});function Te(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}function he(e){return new RegExp("(^|:)//").test(e)}var yt=e=>e.replace(/\/$/,""),dt=e=>e.replace(/^\//,"");function Qe(e,n){if(!e)return n;if(!n)return e;if(he(n))return n;let p=e.endsWith("/")||!n.startsWith("?")?"/":"";return e=yt(e),n=dt(n),`${e}${p}${n}`}var le=e=>[].concat(...e);function Re(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function xe(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var o=require("@reduxjs/toolkit");var Se=o.isPlainObject;function G(e,n){if(e===n||!(Se(e)&&Se(n)||Array.isArray(e)&&Array.isArray(n)))return n;let p=Object.keys(n),g=Object.keys(e),c=p.length===g.length,x=Array.isArray(n)?[]:{};for(let A of p)x[A]=G(e[A],n[A]),c&&(c=e[A]===x[A]);return c?e:x}var Ae=(...e)=>fetch(...e),pt=e=>e.status>=200&&e.status<=299,ct=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function De(e){if(!(0,o.isPlainObject)(e))return e;let n={...e};for(let[p,g]of Object.entries(n))g===void 0&&delete n[p];return n}function be({baseUrl:e,prepareHeaders:n=d=>d,fetchFn:p=Ae,paramsSerializer:g,isJsonContentType:c=ct,jsonContentType:x="application/json",jsonReplacer:A,timeout:b,responseHandler:B,validateStatus:T,...h}={}){return typeof fetch>"u"&&p===Ae&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(i,t)=>{let{signal:l,getState:S,extra:f,endpoint:y,forced:a,type:s}=t,r,{url:u,headers:Q=new Headers(h.headers),params:m=void 0,responseHandler:R=B??"json",validateStatus:D=T??pt,timeout:E=b,...M}=typeof i=="string"?{url:i}:i,k={...h,signal:l,...M};Q=new Headers(De(Q)),k.headers=await n(Q,{getState:S,extra:f,endpoint:y,forced:a,type:s})||Q;let P=v=>typeof v=="object"&&((0,o.isPlainObject)(v)||Array.isArray(v)||typeof v.toJSON=="function");if(!k.headers.has("content-type")&&P(k.body)&&k.headers.set("content-type",x),P(k.body)&&c(k.headers)&&(k.body=JSON.stringify(k.body,A)),m){let v=~u.indexOf("?")?"&":"?",z=g?g(m):new URLSearchParams(De(m));u+=v+z}u=Qe(e,u);let F=new Request(u,k);r={request:new Request(u,k)};let C,L=!1,w=E&&setTimeout(()=>{L=!0,t.abort()},E);try{C=await p(F)}catch(v){return{error:{status:L?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(v)},meta:r}}finally{w&&clearTimeout(w)}let O=C.clone();r.response=O;let q,U="";try{let v;if(await Promise.all([d(C,R).then(z=>q=z,z=>v=z),O.text().then(z=>U=z,()=>{})]),v)throw v}catch(v){return{error:{status:"PARSING_ERROR",originalStatus:C.status,data:U,error:String(v)},meta:r}}return D(C,q)?{data:q,meta:r}:{error:{status:C.status,data:q},meta:r}};async function d(i,t){if(typeof t=="function")return t(i);if(t==="content-type"&&(t=c(i.headers)?"json":"text"),t==="json"){let l=await i.text();return l.length?JSON.parse(l):null}return i.text()}}var N=class{constructor(n,p=void 0){this.value=n;this.meta=p}};async function lt(e=0,n=5){let p=Math.min(e,n),g=~~((Math.random()+.4)*(300<<p));await new Promise(c=>setTimeout(x=>c(x),g))}function ft(e){throw Object.assign(new N({error:e}),{throwImmediately:!0})}var Ee={},mt=(e,n)=>async(p,g,c)=>{let x=[5,(n||Ee).maxRetries,(c||Ee).maxRetries].filter(h=>h!==void 0),[A]=x.slice(-1),B={maxRetries:A,backoff:lt,retryCondition:(h,d,{attempt:i})=>i<=A,...n,...c},T=0;for(;;)try{let h=await e(p,g,c);if(h.error)throw new N(h);return h}catch(h){if(T++,h.throwImmediately){if(h instanceof N)return h.value;throw h}if(h instanceof N&&!B.retryCondition(h.value.error,p,{attempt:T,baseQueryApi:g,extraOptions:c}))return h.value;await B.backoff(T,B.maxRetries)}},Me=Object.assign(mt,{fail:ft});var H=(0,o.createAction)("__rtkq/focused"),V=(0,o.createAction)("__rtkq/unfocused"),_=(0,o.createAction)("__rtkq/online"),$=(0,o.createAction)("__rtkq/offline"),fe=!1;function ke(e,n){function p(){let g=()=>e(H()),c=()=>e(V()),x=()=>e(_()),A=()=>e($()),b=()=>{window.document.visibilityState==="visible"?g():c()};return fe||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",b,!1),window.addEventListener("focus",g,!1),window.addEventListener("online",x,!1),window.addEventListener("offline",A,!1),fe=!0),()=>{window.removeEventListener("focus",g),window.removeEventListener("visibilitychange",b),window.removeEventListener("online",x),window.removeEventListener("offline",A),fe=!1}}return n?n(e,{onFocus:H,onFocusLost:V,onOffline:$,onOnline:_}):p()}function ae(e){return e.type==="query"}function Be(e){return e.type==="mutation"}function Y(e,n,p,g,c,x){return gt(e)?e(n,p,g,c).map(oe).map(x):Array.isArray(e)?e.map(oe).map(x):[]}function gt(e){return typeof e=="function"}function oe(e){return typeof e=="string"?{type:e}:e}var _t=require("@reduxjs/toolkit");function me(e){return e!=null}function K(e){let n=0;for(let p in e)n++;return n}function ve(e,n){return e.catch(n)}var J=Symbol("forceQueryFn"),X=e=>typeof e[J]=="function";function Pe({serializeQueryArgs:e,queryThunk:n,mutationThunk:p,api:g,context:c}){let x=new Map,A=new Map,{unsubscribeQueryResult:b,removeMutationResult:B,updateSubscriptionOptions:T}=g.internalActions;return{buildInitiateQuery:S,buildInitiateMutation:f,getRunningQueryThunk:h,getRunningMutationThunk:d,getRunningQueriesThunk:i,getRunningMutationsThunk:t};function h(y,a){return s=>{let r=c.endpointDefinitions[y],u=e({queryArgs:a,endpointDefinition:r,endpointName:y});return x.get(s)?.[u]}}function d(y,a){return s=>A.get(s)?.[a]}function i(){return y=>Object.values(x.get(y)||{}).filter(me)}function t(){return y=>Object.values(A.get(y)||{}).filter(me)}function l(y){}function S(y,a){let s=(r,{subscribe:u=!0,forceRefetch:Q,subscriptionOptions:m,[J]:R}={})=>(D,E)=>{let M=e({queryArgs:r,endpointDefinition:a,endpointName:y}),k=n({type:"query",subscribe:u,forceRefetch:Q,subscriptionOptions:m,endpointName:y,originalArgs:r,queryCacheKey:M,[J]:R}),P=g.endpoints[y].select(r),F=D(k),I=P(E());let{requestId:C,abort:L}=F,w=I.requestId!==C,O=x.get(D)?.[M],q=()=>P(E()),U=Object.assign(R?F.then(q):w&&!O?Promise.resolve(I):Promise.all([O,F]).then(q),{arg:r,requestId:C,subscriptionOptions:m,queryCacheKey:M,abort:L,async unwrap(){let v=await U;if(v.isError)throw v.error;return v.data},refetch:()=>D(s(r,{subscribe:!1,forceRefetch:!0})),unsubscribe(){u&&D(b({queryCacheKey:M,requestId:C}))},updateSubscriptionOptions(v){U.subscriptionOptions=v,D(T({endpointName:y,requestId:C,queryCacheKey:M,options:v}))}});if(!O&&!w&&!R){let v=x.get(D)||{};v[M]=U,x.set(D,v),U.then(()=>{delete v[M],K(v)||x.delete(D)})}return U};return s}function f(y){return(a,{track:s=!0,fixedCacheKey:r}={})=>(u,Q)=>{let m=p({type:"mutation",endpointName:y,originalArgs:a,track:s,fixedCacheKey:r}),R=u(m);let{requestId:D,abort:E,unwrap:M}=R,k=ve(R.unwrap().then(C=>({data:C})),C=>({error:C})),P=()=>{u(B({requestId:D,fixedCacheKey:r}))},F=Object.assign(k,{arg:R.arg,requestId:D,abort:E,unwrap:M,reset:P}),I=A.get(u)||{};return A.set(u,I),I[D]=F,F.then(()=>{delete I[D],K(I)||A.delete(u)}),r&&(I[r]=F,F.then(()=>{I[r]===F&&(delete I[r],K(I)||A.delete(u))})),F}}}var se=require("immer");function Fe(e){return e}function Ce({reducerPath:e,baseQuery:n,context:{endpointDefinitions:p},serializeQueryArgs:g,api:c,assertTagType:x}){let A=(a,s,r,u)=>(Q,m)=>{let R=p[a],D=g({queryArgs:s,endpointDefinition:R,endpointName:a});if(Q(c.internalActions.queryResultPatched({queryCacheKey:D,patches:r})),!u)return;let E=c.endpoints[a].select(s)(m()),M=Y(R.providesTags,E.data,void 0,s,{},x);Q(c.internalActions.updateProvidedBy({queryCacheKey:D,providedTags:M}))},b=(a,s,r,u=!0)=>(Q,m)=>{let D=c.endpoints[a].select(s)(m()),E={patches:[],inversePatches:[],undo:()=>Q(c.util.patchQueryData(a,s,E.inversePatches,u))};if(D.status==="uninitialized")return E;let M;if("data"in D)if((0,se.isDraftable)(D.data)){let[k,P,F]=(0,se.produceWithPatches)(D.data,r);E.patches.push(...P),E.inversePatches.push(...F),M=k}else M=r(D.data),E.patches.push({op:"replace",path:[],value:M}),E.inversePatches.push({op:"replace",path:[],value:D.data});return Q(c.util.patchQueryData(a,s,E.patches,u)),E},B=(a,s,r)=>u=>u(c.endpoints[a].initiate(s,{subscribe:!1,forceRefetch:!0,[J]:()=>({data:r})})),T=async(a,{signal:s,abort:r,rejectWithValue:u,fulfillWithValue:Q,dispatch:m,getState:R,extra:D})=>{let E=p[a.endpointName];try{let M=Fe,k,P={signal:s,abort:r,dispatch:m,getState:R,extra:D,endpoint:a.endpointName,type:a.type,forced:a.type==="query"?h(a,R()):void 0},F=a.type==="query"?a[J]:void 0;if(F?k=F():E.query?(k=await n(E.query(a.originalArgs),P,E.extraOptions),E.transformResponse&&(M=E.transformResponse)):k=await E.queryFn(a.originalArgs,P,E.extraOptions,I=>n(I,P,E.extraOptions)),typeof process<"u",k.error)throw new N(k.error,k.meta);return Q(await M(k.data,k.meta,a.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:k.meta,[o.SHOULD_AUTOBATCH]:!0})}catch(M){let k=M;if(k instanceof N){let P=Fe;E.query&&E.transformErrorResponse&&(P=E.transformErrorResponse);try{return u(await P(k.value,k.meta,a.originalArgs),{baseQueryMeta:k.meta,[o.SHOULD_AUTOBATCH]:!0})}catch(F){k=F}}throw typeof process<"u",console.error(k),k}};function h(a,s){let r=s[e]?.queries?.[a.queryCacheKey],u=s[e]?.config.refetchOnMountOrArgChange,Q=r?.fulfilledTimeStamp,m=a.forceRefetch??(a.subscribe&&u);return m?m===!0||(Number(new Date)-Number(Q))/1e3>=m:!1}let d=(0,o.createAsyncThunk)(`${e}/executeQuery`,T,{getPendingMeta(){return{startedTimeStamp:Date.now(),[o.SHOULD_AUTOBATCH]:!0}},condition(a,{getState:s}){let r=s(),u=r[e]?.queries?.[a.queryCacheKey],Q=u?.fulfilledTimeStamp,m=a.originalArgs,R=u?.originalArgs,D=p[a.endpointName];return X(a)?!0:u?.status==="pending"?!1:h(a,r)||ae(D)&&D?.forceRefetch?.({currentArg:m,previousArg:R,endpointState:u,state:r})?!0:!Q},dispatchConditionRejection:!0}),i=(0,o.createAsyncThunk)(`${e}/executeMutation`,T,{getPendingMeta(){return{startedTimeStamp:Date.now(),[o.SHOULD_AUTOBATCH]:!0}}}),t=a=>"force"in a,l=a=>"ifOlderThan"in a,S=(a,s,r)=>(u,Q)=>{let m=t(r)&&r.force,R=l(r)&&r.ifOlderThan,D=(M=!0)=>c.endpoints[a].initiate(s,{forceRefetch:M}),E=c.endpoints[a].select(s)(Q());if(m)u(D());else if(R){let M=E?.fulfilledTimeStamp;if(!M){u(D());return}(Number(new Date)-Number(new Date(M)))/1e3>=R&&u(D())}else u(D(!1))};function f(a){return s=>s?.meta?.arg?.endpointName===a}function y(a,s){return{matchPending:(0,o.isAllOf)((0,o.isPending)(a),f(s)),matchFulfilled:(0,o.isAllOf)((0,o.isFulfilled)(a),f(s)),matchRejected:(0,o.isAllOf)((0,o.isRejected)(a),f(s))}}return{queryThunk:d,mutationThunk:i,prefetch:S,updateQueryData:b,upsertQueryData:B,patchQueryData:A,buildMatchThunkActions:y}}function ue(e,n,p,g){return Y(p[e.meta.arg.endpointName][n],(0,o.isFulfilled)(e)?e.payload:void 0,(0,o.isRejectedWithValue)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,g)}var Ie=require("immer"),ee=require("immer");function ye(e,n,p){let g=e[n];g&&p(g)}function W(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function we(e,n,p){let g=e[W(n)];g&&p(g)}var Z={};function Oe({reducerPath:e,queryThunk:n,mutationThunk:p,context:{endpointDefinitions:g,apiUid:c,extractRehydrationInfo:x,hasRehydrationInfo:A},assertTagType:b,config:B}){let T=(0,o.createAction)(`${e}/resetApiState`),h=(0,o.createSlice)({name:`${e}/queries`,initialState:Z,reducers:{removeQueryResult:{reducer(s,{payload:{queryCacheKey:r}}){delete s[r]},prepare:(0,o.prepareAutoBatched)()},queryResultPatched:{reducer(s,{payload:{queryCacheKey:r,patches:u}}){ye(s,r,Q=>{Q.data=(0,ee.applyPatches)(Q.data,u.concat())})},prepare:(0,o.prepareAutoBatched)()}},extraReducers(s){s.addCase(n.pending,(r,{meta:u,meta:{arg:Q}})=>{let m=X(Q);r[Q.queryCacheKey]??={status:"uninitialized",endpointName:Q.endpointName},ye(r,Q.queryCacheKey,R=>{R.status="pending",R.requestId=m&&R.requestId?R.requestId:u.requestId,Q.originalArgs!==void 0&&(R.originalArgs=Q.originalArgs),R.startedTimeStamp=u.startedTimeStamp})}).addCase(n.fulfilled,(r,{meta:u,payload:Q})=>{ye(r,u.arg.queryCacheKey,m=>{if(m.requestId!==u.requestId&&!X(u.arg))return;let{merge:R}=g[u.arg.endpointName];if(m.status="fulfilled",R)if(m.data!==void 0){let{fulfilledTimeStamp:D,arg:E,baseQueryMeta:M,requestId:k}=u,P=(0,o.createNextState)(m.data,F=>R(F,Q,{arg:E.originalArgs,baseQueryMeta:M,fulfilledTimeStamp:D,requestId:k}));m.data=P}else m.data=Q;else m.data=g[u.arg.endpointName].structuralSharing??!0?G((0,Ie.isDraft)(m.data)?(0,ee.original)(m.data):m.data,Q):Q;delete m.error,m.fulfilledTimeStamp=u.fulfilledTimeStamp})}).addCase(n.rejected,(r,{meta:{condition:u,arg:Q,requestId:m},error:R,payload:D})=>{ye(r,Q.queryCacheKey,E=>{if(!u){if(E.requestId!==m)return;E.status="rejected",E.error=D??R}})}).addMatcher(A,(r,u)=>{let{queries:Q}=x(u);for(let[m,R]of Object.entries(Q))(R?.status==="fulfilled"||R?.status==="rejected")&&(r[m]=R)})}}),d=(0,o.createSlice)({name:`${e}/mutations`,initialState:Z,reducers:{removeMutationResult:{reducer(s,{payload:r}){let u=W(r);u in s&&delete s[u]},prepare:(0,o.prepareAutoBatched)()}},extraReducers(s){s.addCase(p.pending,(r,{meta:u,meta:{requestId:Q,arg:m,startedTimeStamp:R}})=>{m.track&&(r[W(u)]={requestId:Q,status:"pending",endpointName:m.endpointName,startedTimeStamp:R})}).addCase(p.fulfilled,(r,{payload:u,meta:Q})=>{Q.arg.track&&we(r,Q,m=>{m.requestId===Q.requestId&&(m.status="fulfilled",m.data=u,m.fulfilledTimeStamp=Q.fulfilledTimeStamp)})}).addCase(p.rejected,(r,{payload:u,error:Q,meta:m})=>{m.arg.track&&we(r,m,R=>{R.requestId===m.requestId&&(R.status="rejected",R.error=u??Q)})}).addMatcher(A,(r,u)=>{let{mutations:Q}=x(u);for(let[m,R]of Object.entries(Q))(R?.status==="fulfilled"||R?.status==="rejected")&&m!==R?.requestId&&(r[m]=R)})}}),i=(0,o.createSlice)({name:`${e}/invalidation`,initialState:Z,reducers:{updateProvidedBy:{reducer(s,r){let{queryCacheKey:u,providedTags:Q}=r.payload;for(let m of Object.values(s))for(let R of Object.values(m)){let D=R.indexOf(u);D!==-1&&R.splice(D,1)}for(let{type:m,id:R}of Q){let D=(s[m]??={})[R||"__internal_without_id"]??=[];D.includes(u)||D.push(u)}},prepare:(0,o.prepareAutoBatched)()}},extraReducers(s){s.addCase(h.actions.removeQueryResult,(r,{payload:{queryCacheKey:u}})=>{for(let Q of Object.values(r))for(let m of Object.values(Q)){let R=m.indexOf(u);R!==-1&&m.splice(R,1)}}).addMatcher(A,(r,u)=>{let{provided:Q}=x(u);for(let[m,R]of Object.entries(Q))for(let[D,E]of Object.entries(R)){let M=(r[m]??={})[D||"__internal_without_id"]??=[];for(let k of E)M.includes(k)||M.push(k)}}).addMatcher((0,o.isAnyOf)((0,o.isFulfilled)(n),(0,o.isRejectedWithValue)(n)),(r,u)=>{let Q=ue(u,"providesTags",g,b),{queryCacheKey:m}=u.meta.arg;i.caseReducers.updateProvidedBy(r,i.actions.updateProvidedBy({queryCacheKey:m,providedTags:Q}))})}}),t=(0,o.createSlice)({name:`${e}/subscriptions`,initialState:Z,reducers:{updateSubscriptionOptions(s,r){},unsubscribeQueryResult(s,r){},internal_getRTKQSubscriptions(){}}}),l=(0,o.createSlice)({name:`${e}/internalSubscriptions`,initialState:Z,reducers:{subscriptionsUpdated:{reducer(s,r){return(0,ee.applyPatches)(s,r.payload)},prepare:(0,o.prepareAutoBatched)()}}}),S=(0,o.createSlice)({name:`${e}/config`,initialState:{online:Re(),focused:xe(),middlewareRegistered:!1,...B},reducers:{middlewareRegistered(s,{payload:r}){s.middlewareRegistered=s.middlewareRegistered==="conflict"||c!==r?"conflict":!0}},extraReducers:s=>{s.addCase(_,r=>{r.online=!0}).addCase($,r=>{r.online=!1}).addCase(H,r=>{r.focused=!0}).addCase(V,r=>{r.focused=!1}).addMatcher(A,r=>({...r}))}}),f=(0,o.combineReducers)({queries:h.reducer,mutations:d.reducer,provided:i.reducer,subscriptions:l.reducer,config:S.reducer}),y=(s,r)=>f(T.match(r)?void 0:s,r),a={...S.actions,...h.actions,...t.actions,...l.actions,...d.actions,...i.actions,resetApiState:T};return{reducer:y,actions:a}}var te=Symbol.for("RTKQ/skipToken"),Ke={status:"uninitialized"},qe=(0,o.createNextState)(Ke,()=>{}),Ne=(0,o.createNextState)(Ke,()=>{});function je({serializeQueryArgs:e,reducerPath:n,createSelector:p}){let g=d=>qe,c=d=>Ne;return{buildQuerySelector:b,buildMutationSelector:B,selectInvalidatedBy:T,selectCachedArgsForQuery:h};function x(d){return{...d,...Te(d.status)}}function A(d){return d[n]}function b(d,i){return t=>{let l=e({queryArgs:t,endpointDefinition:i,endpointName:d});return p(t===te?g:y=>A(y)?.queries?.[l]??qe,x)}}function B(){return d=>{let i;return typeof d=="object"?i=W(d)??te:i=d,p(i===te?c:S=>A(S)?.mutations?.[i]??Ne,x)}}function T(d,i){let t=d[n],l=new Set;for(let S of i.map(oe)){let f=t.provided[S.type];if(!f)continue;let y=(S.id!==void 0?f[S.id]:le(Object.values(f)))??[];for(let a of y)l.add(a)}return le(Array.from(l.values()).map(S=>{let f=t.queries[S];return f?[{queryCacheKey:S,endpointName:f.endpointName,originalArgs:f.originalArgs}]:[]}))}function h(d,i){return Object.values(d[n].queries).filter(t=>t?.endpointName===i&&t.status!=="uninitialized").map(t=>t.originalArgs)}}var Ue=WeakMap?new WeakMap:void 0,ne=({endpointName:e,queryArgs:n})=>{let p="",g=Ue?.get(n);if(typeof g=="string")p=g;else{let c=JSON.stringify(n,(x,A)=>(0,o.isPlainObject)(A)?Object.keys(A).sort().reduce((b,B)=>(b[B]=A[B],b),{}):A);(0,o.isPlainObject)(n)&&Ue?.set(n,c),p=c}return`${e}(${p})`};var ge=require("reselect");function de(...e){return function(p){let g=(0,ge.weakMapMemoize)(T=>p.extractRehydrationInfo?.(T,{reducerPath:p.reducerPath??"api"})),c={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...p,extractRehydrationInfo:g,serializeQueryArgs(T){let h=ne;if("serializeQueryArgs"in T.endpointDefinition){let d=T.endpointDefinition.serializeQueryArgs;h=i=>{let t=d(i);return typeof t=="string"?t:ne({...i,queryArgs:t})}}else p.serializeQueryArgs&&(h=p.serializeQueryArgs);return h(T)},tagTypes:[...p.tagTypes||[]]},x={endpointDefinitions:{},batch(T){T()},apiUid:(0,o.nanoid)(),extractRehydrationInfo:g,hasRehydrationInfo:(0,ge.weakMapMemoize)(T=>g(T)!=null)},A={injectEndpoints:B,enhanceEndpoints({addTagTypes:T,endpoints:h}){if(T)for(let d of T)c.tagTypes.includes(d)||c.tagTypes.push(d);if(h)for(let[d,i]of Object.entries(h))typeof i=="function"?i(x.endpointDefinitions[d]):Object.assign(x.endpointDefinitions[d]||{},i);return A}},b=e.map(T=>T.init(A,c,x));function B(T){let h=T.endpoints({query:d=>({...d,type:"query"}),mutation:d=>({...d,type:"mutation"})});for(let[d,i]of Object.entries(h)){if(!T.overrideExisting&&d in x.endpointDefinitions){typeof process<"u";continue}x.endpointDefinitions[d]=i;for(let t of b)t.injectEndpoint(d,i)}return A}return A.injectEndpoints({endpoints:p.endpoints})}}var He=require("@reduxjs/toolkit");function _e(){return function(){throw new Error((0,He.formatProdErrorMessage)(33))}}function Tt(e){for(let n in e)return!1;return!0}var ht=2147483647/1e3-1,Le=({reducerPath:e,api:n,context:p,internalState:g})=>{let{removeQueryResult:c,unsubscribeQueryResult:x}=n.internalActions;function A(h){let d=g.currentSubscriptions[h];return!!d&&!Tt(d)}let b={},B=(h,d,i)=>{if(x.match(h)){let t=d.getState()[e],{queryCacheKey:l}=h.payload;T(l,t.queries[l]?.endpointName,d,t.config)}if(n.util.resetApiState.match(h))for(let[t,l]of Object.entries(b))l&&clearTimeout(l),delete b[t];if(p.hasRehydrationInfo(h)){let t=d.getState()[e],{queries:l}=p.extractRehydrationInfo(h);for(let[S,f]of Object.entries(l))T(S,f?.endpointName,d,t.config)}};function T(h,d,i,t){let S=p.endpointDefinitions[d]?.keepUnusedDataFor??t.keepUnusedDataFor;if(S===1/0)return;let f=Math.max(0,Math.min(S,ht));if(!A(h)){let y=b[h];y&&clearTimeout(y),b[h]=setTimeout(()=>{A(h)||i.dispatch(c({queryCacheKey:h})),delete b[h]},f*1e3)}}return B};var ze=({reducerPath:e,context:n,context:{endpointDefinitions:p},mutationThunk:g,queryThunk:c,api:x,assertTagType:A,refetchQuery:b,internalState:B})=>{let{removeQueryResult:T}=x.internalActions,h=(0,o.isAnyOf)((0,o.isFulfilled)(g),(0,o.isRejectedWithValue)(g)),d=(0,o.isAnyOf)((0,o.isFulfilled)(g,c),(0,o.isRejected)(g,c)),i=[],t=(f,y)=>{h(f)?S(ue(f,"invalidatesTags",p,A),y):d(f)?S([],y):x.util.invalidateTags.match(f)&&S(Y(f.payload,void 0,void 0,void 0,void 0,A),y)};function l(f){for(let y in f.queries)if(f.queries[y]?.status==="pending")return!0;for(let y in f.mutations)if(f.mutations[y]?.status==="pending")return!0;return!1}function S(f,y){let a=y.getState(),s=a[e];if(i.push(...f),s.config.invalidationBehavior==="delayed"&&l(s))return;let r=i;if(i=[],r.length===0)return;let u=x.util.selectInvalidatedBy(a,r);n.batch(()=>{let Q=Array.from(u.values());for(let{queryCacheKey:m}of Q){let R=s.queries[m],D=B.currentSubscriptions[m]??{};R&&(K(D)===0?y.dispatch(T({queryCacheKey:m})):R.status!=="uninitialized"&&y.dispatch(b(R,m)))}})}return t};var We=({reducerPath:e,queryThunk:n,api:p,refetchQuery:g,internalState:c})=>{let x={},A=(i,t)=>{(p.internalActions.updateSubscriptionOptions.match(i)||p.internalActions.unsubscribeQueryResult.match(i))&&B(i.payload,t),(n.pending.match(i)||n.rejected.match(i)&&i.meta.condition)&&B(i.meta.arg,t),(n.fulfilled.match(i)||n.rejected.match(i)&&!i.meta.condition)&&b(i.meta.arg,t),p.util.resetApiState.match(i)&&h()};function b({queryCacheKey:i},t){let l=t.getState()[e],S=l.queries[i],f=c.currentSubscriptions[i];if(!S||S.status==="uninitialized")return;let{lowestPollingInterval:y,skipPollingIfUnfocused:a}=d(f);if(!Number.isFinite(y))return;let s=x[i];s?.timeout&&(clearTimeout(s.timeout),s.timeout=void 0);let r=Date.now()+y;x[i]={nextPollTimestamp:r,pollingInterval:y,timeout:setTimeout(()=>{(l.config.focused||!a)&&t.dispatch(g(S,i)),b({queryCacheKey:i},t)},y)}}function B({queryCacheKey:i},t){let S=t.getState()[e].queries[i],f=c.currentSubscriptions[i];if(!S||S.status==="uninitialized")return;let{lowestPollingInterval:y}=d(f);if(!Number.isFinite(y)){T(i);return}let a=x[i],s=Date.now()+y;(!a||s<a.nextPollTimestamp)&&b({queryCacheKey:i},t)}function T(i){let t=x[i];t?.timeout&&clearTimeout(t.timeout),delete x[i]}function h(){for(let i of Object.keys(x))T(i)}function d(i={}){let t=!1,l=Number.POSITIVE_INFINITY;for(let S in i)i[S].pollingInterval&&(l=Math.min(i[S].pollingInterval,l),t=i[S].skipPollingIfUnfocused||t);return{lowestPollingInterval:l,skipPollingIfUnfocused:t}}return A};var Ve=({reducerPath:e,context:n,api:p,refetchQuery:g,internalState:c})=>{let{removeQueryResult:x}=p.internalActions,A=(B,T)=>{H.match(B)&&b(T,"refetchOnFocus"),_.match(B)&&b(T,"refetchOnReconnect")};function b(B,T){let h=B.getState()[e],d=h.queries,i=c.currentSubscriptions;n.batch(()=>{for(let t of Object.keys(i)){let l=d[t],S=i[t];if(!S||!l)continue;(Object.values(S).some(y=>y[T]===!0)||Object.values(S).every(y=>y[T]===void 0)&&h.config[T])&&(K(S)===0?B.dispatch(x({queryCacheKey:t})):l.status!=="uninitialized"&&B.dispatch(g(l,t)))}})}return A};var $e=new Error("Promise never resolved before cacheEntryRemoved."),Je=({api:e,reducerPath:n,context:p,queryThunk:g,mutationThunk:c,internalState:x})=>{let A=(0,o.isAsyncThunkAction)(g),b=(0,o.isAsyncThunkAction)(c),B=(0,o.isFulfilled)(g,c),T={},h=(t,l,S)=>{let f=d(t);if(g.pending.match(t)){let y=S[n].queries[f],a=l.getState()[n].queries[f];!y&&a&&i(t.meta.arg.endpointName,t.meta.arg.originalArgs,f,l,t.meta.requestId)}else if(c.pending.match(t))l.getState()[n].mutations[f]&&i(t.meta.arg.endpointName,t.meta.arg.originalArgs,f,l,t.meta.requestId);else if(B(t)){let y=T[f];y?.valueResolved&&(y.valueResolved({data:t.payload,meta:t.meta.baseQueryMeta}),delete y.valueResolved)}else if(e.internalActions.removeQueryResult.match(t)||e.internalActions.removeMutationResult.match(t)){let y=T[f];y&&(delete T[f],y.cacheEntryRemoved())}else if(e.util.resetApiState.match(t))for(let[y,a]of Object.entries(T))delete T[y],a.cacheEntryRemoved()};function d(t){return A(t)?t.meta.arg.queryCacheKey:b(t)?t.meta.arg.fixedCacheKey??t.meta.requestId:e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?W(t.payload):""}function i(t,l,S,f,y){let a=p.endpointDefinitions[t],s=a?.onCacheEntryAdded;if(!s)return;let r={},u=new Promise(M=>{r.cacheEntryRemoved=M}),Q=Promise.race([new Promise(M=>{r.valueResolved=M}),u.then(()=>{throw $e})]);Q.catch(()=>{}),T[S]=r;let m=e.endpoints[t].select(a.type==="query"?l:S),R=f.dispatch((M,k,P)=>P),D={...f,getCacheEntry:()=>m(f.getState()),requestId:y,extra:R,updateCachedData:a.type==="query"?M=>f.dispatch(e.util.updateQueryData(t,l,M)):void 0,cacheDataLoaded:Q,cacheEntryRemoved:u},E=s(l,D);Promise.resolve(E).catch(M=>{if(M!==$e)throw M})}return h};var Ge=({api:e,context:n,queryThunk:p,mutationThunk:g})=>{let c=(0,o.isPending)(p,g),x=(0,o.isRejected)(p,g),A=(0,o.isFulfilled)(p,g),b={};return(T,h)=>{if(c(T)){let{requestId:d,arg:{endpointName:i,originalArgs:t}}=T.meta,l=n.endpointDefinitions[i],S=l?.onQueryStarted;if(S){let f={},y=new Promise((u,Q)=>{f.resolve=u,f.reject=Q});y.catch(()=>{}),b[d]=f;let a=e.endpoints[i].select(l.type==="query"?t:d),s=h.dispatch((u,Q,m)=>m),r={...h,getCacheEntry:()=>a(h.getState()),requestId:d,extra:s,updateCachedData:l.type==="query"?u=>h.dispatch(e.util.updateQueryData(i,t,u)):void 0,queryFulfilled:y};S(t,r)}}else if(A(T)){let{requestId:d,baseQueryMeta:i}=T.meta;b[d]?.resolve({data:T.payload,meta:i}),delete b[d]}else if(x(T)){let{requestId:d,rejectedWithValue:i,baseQueryMeta:t}=T.meta;b[d]?.reject({error:T.payload??T.error,isUnhandledError:!i,meta:t}),delete b[d]}}};var Ye=({api:e,context:{apiUid:n},reducerPath:p})=>(g,c)=>{e.util.resetApiState.match(g)&&c.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"};var Xe=require("immer");var Ze=({api:e,queryThunk:n,internalState:p})=>{let g=`${e.reducerPath}/subscriptions`,c=null,x=null,{updateSubscriptionOptions:A,unsubscribeQueryResult:b}=e.internalActions,B=(t,l)=>{if(A.match(l)){let{queryCacheKey:f,requestId:y,options:a}=l.payload;return t?.[f]?.[y]&&(t[f][y]=a),!0}if(b.match(l)){let{queryCacheKey:f,requestId:y}=l.payload;return t[f]&&delete t[f][y],!0}if(e.internalActions.removeQueryResult.match(l))return delete t[l.payload.queryCacheKey],!0;if(n.pending.match(l)){let{meta:{arg:f,requestId:y}}=l,a=t[f.queryCacheKey]??={};return a[`${y}_running`]={},f.subscribe&&(a[y]=f.subscriptionOptions??a[y]??{}),!0}let S=!1;if(n.fulfilled.match(l)||n.rejected.match(l)){let f=t[l.meta.arg.queryCacheKey]||{},y=`${l.meta.requestId}_running`;S||=!!f[y],delete f[y]}if(n.rejected.match(l)){let{meta:{condition:f,arg:y,requestId:a}}=l;if(f&&y.subscribe){let s=t[y.queryCacheKey]??={};s[a]=y.subscriptionOptions??s[a]??{},S=!0}}return S},T=()=>p.currentSubscriptions,i={getSubscriptions:T,getSubscriptionCount:t=>{let S=T()[t]??{};return K(S)},isRequestSubscribed:(t,l)=>!!T()?.[t]?.[l]};return(t,l)=>{if(c||(c=JSON.parse(JSON.stringify(p.currentSubscriptions))),e.util.resetApiState.match(t))return c=p.currentSubscriptions={},x=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(t))return[!1,i];let S=B(p.currentSubscriptions,t),f=!0;if(S){x||(x=setTimeout(()=>{let s=JSON.parse(JSON.stringify(p.currentSubscriptions)),[,r]=(0,Xe.produceWithPatches)(c,()=>s);l.next(e.internalActions.subscriptionsUpdated(r)),c=s,x=null},500));let y=typeof t.type=="string"&&!!t.type.startsWith(g),a=n.rejected.match(t)&&t.meta.condition&&!!t.meta.arg.subscribe;f=!y&&!a}return[f,!1]}};function et(e){let{reducerPath:n,queryThunk:p,api:g,context:c}=e,{apiUid:x}=c,A={invalidateTags:(0,o.createAction)(`${n}/invalidateTags`)},b=d=>d.type.startsWith(`${n}/`),B=[Ye,Le,ze,We,Je,Ge];return{middleware:d=>{let i=!1,l={...e,internalState:{currentSubscriptions:{}},refetchQuery:h,isThisApiSliceAction:b},S=B.map(a=>a(l)),f=Ze(l),y=Ve(l);return a=>s=>{if(!(0,o.isAction)(s))return a(s);i||(i=!0,d.dispatch(g.internalActions.middlewareRegistered(x)));let r={...d,next:a},u=d.getState(),[Q,m]=f(s,r,u),R;if(Q?R=a(s):R=m,d.getState()[n]&&(y(s,r,u),b(s)||c.hasRehydrationInfo(s)))for(let D of S)D(s,r,u);return R}},actions:A};function h(d,i,t={}){return p({type:"query",endpointName:d.endpointName,originalArgs:d.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:i,...t})}}function j(e,...n){return Object.assign(e,...n)}var tt=require("immer");var re=Symbol(),pe=({createSelector:e=o.createSelector}={})=>({name:re,init(n,{baseQuery:p,tagTypes:g,reducerPath:c,serializeQueryArgs:x,keepUnusedDataFor:A,refetchOnMountOrArgChange:b,refetchOnFocus:B,refetchOnReconnect:T,invalidationBehavior:h},d){(0,tt.enablePatches)();let i=w=>(typeof process<"u",w);Object.assign(n,{reducerPath:c,endpoints:{},internalActions:{onOnline:_,onOffline:$,onFocus:H,onFocusLost:V},util:{}});let{queryThunk:t,mutationThunk:l,patchQueryData:S,updateQueryData:f,upsertQueryData:y,prefetch:a,buildMatchThunkActions:s}=Ce({baseQuery:p,reducerPath:c,context:d,api:n,serializeQueryArgs:x,assertTagType:i}),{reducer:r,actions:u}=Oe({context:d,queryThunk:t,mutationThunk:l,reducerPath:c,assertTagType:i,config:{refetchOnFocus:B,refetchOnReconnect:T,refetchOnMountOrArgChange:b,keepUnusedDataFor:A,reducerPath:c,invalidationBehavior:h}});j(n.util,{patchQueryData:S,updateQueryData:f,upsertQueryData:y,prefetch:a,resetApiState:u.resetApiState}),j(n.internalActions,u);let{middleware:Q,actions:m}=et({reducerPath:c,context:d,queryThunk:t,mutationThunk:l,api:n,assertTagType:i});j(n.util,m),j(n,{reducer:r,middleware:Q});let{buildQuerySelector:R,buildMutationSelector:D,selectInvalidatedBy:E,selectCachedArgsForQuery:M}=je({serializeQueryArgs:x,reducerPath:c,createSelector:e});j(n.util,{selectInvalidatedBy:E,selectCachedArgsForQuery:M});let{buildInitiateQuery:k,buildInitiateMutation:P,getRunningMutationThunk:F,getRunningMutationsThunk:I,getRunningQueriesThunk:C,getRunningQueryThunk:L}=Pe({queryThunk:t,mutationThunk:l,api:n,serializeQueryArgs:x,context:d});return j(n.util,{getRunningMutationThunk:F,getRunningMutationsThunk:I,getRunningQueryThunk:L,getRunningQueriesThunk:C}),{name:re,injectEndpoint(w,O){let q=n;q.endpoints[w]??={},ae(O)?j(q.endpoints[w],{name:w,select:R(w,O),initiate:k(w,O)},s(t,w)):Be(O)&&j(q.endpoints[w],{name:w,select:D(),initiate:P(w)},s(l,w))}}}});var nt=de(pe());
//# sourceMappingURL=rtk-query.production.min.cjs.map